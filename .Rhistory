filter(year %in% c(1984:2019)) %>%
anti_join(remove) %>%
filter(countrycode != "NA")
## Group by regions
by_regions <-
countries %>%
filter(country != "Guatemala") %>%
group_by(region, year) %>%
summarise_at(vars(pov), mean, na.rm = TRUE)
## Filter Guatemala
gtm <-
countries %>%
filter(country == "Guatemala") %>%
select(!region) %>%
rename(region = country) %>%
select(-c(countrycode, subregion))
## Bind dataframes
regions <-
by_regions %>%
rbind(gtm) %>%
select(!c(countrycode, subregion))
## Filter Guatemala
gtm <-
countries %>%
filter(country == "Guatemala") %>%
select(!region) %>%
rename(region = country)
## Bind dataframes
regions <-
by_regions %>%
rbind(gtm) %>%
select(!c(countrycode, subregion))
## Translate regions names and add id's
regions %<>%
mutate(
region = as.factor(region),
region = fct_recode(region,
"África" = "Africa",
"América" = "Americas",
"Europa" = "Europe",
"Asia" = "Asia",
"Oceanía" = "Oceania",
"Guatemala" = "Guatemala")
) %>%
mutate(id = cur_group_id()) %>%
select(id, everything()) %>%
ungroup()
gtm
gtm %>%
select(-c(countrycode, subregion)) %>%
write_csv("guatemala_pov.csv")
poverty <- read_csv("poverty.csv")
guatemala_pov <- read_csv("guatemala_pov.csv")
poverty
guatemala_pov
poverty <- read_csv("poverty.csv")
guatemala_pov <- read_csv("guatemala_pov.csv")
poverty %>% group_by(region) %>% distinct(region)
poverty %>% filter(region == "Guatemala")
poverty
regions <- read_csv("regions.csv")
install.packages("plm")
library(plm)
poverty
regions
solow <- function(data, y, l, k, labsh) {
data %>%
mutate(
# Logs of output, capital and labor
y = log({{y}}),
k = log({{k}}),
l = log({{l}}),
# First differences (growth rates)
dy = ({{y}} - lag({{y}})) * 100,
dk = ({{k}} - lag({{k}})) * 100,
dl = ({{l}} - lag({{l}})) * 100,
# Share of capital in the economy
capsh = 1 - {{labsh}},
# Contributions of factors in the output growth
k_cont = dk * capsh,
l_cont = dl * {{labsh}},
tfp_cont = dy - k_cont - l_cont
) %>%
na.omit()
}
solow <- function(data, y, l, k, labsh) {
data %>%
mutate(
# Logs of output, capital and labor
y = log({{y}}),
k = log({{k}}),
l = log({{l}}),
# First differences (growth rates)
dy = ({{y}} - lag({{y}})) * 100,
dk = ({{k}} - lag({{k}})) * 100,
dl = ({{l}} - lag({{l}})) * 100,
# Share of capital in the economy
capsh = 1 - {{labsh}},
# Contributions of factors in the output growth
k_cont = dk * capsh,
l_cont = dl * {{labsh}},
tfp_cont = dy - k_cont - l_cont
) %>%
na.omit()
}
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, k_cont, l_cont, tfp_cont) %>%
summarise_if(is.numeric, mean) %>%
select(region, k_cont, l_cont, tfp_cont)
poverty <- read_csv("poverty.csv")
regions <- read_csv("regions.csv")
solow <- function(data, y, l, k, labsh) {
data %>%
mutate(
# Logs of output, capital and labor
y = log({{y}}),
k = log({{k}}),
l = log({{l}}),
# First differences (growth rates)
dy = ({{y}} - lag({{y}})) * 100,
dk = ({{k}} - lag({{k}})) * 100,
dl = ({{l}} - lag({{l}})) * 100,
# Share of capital in the economy
capsh = 1 - {{labsh}},
# Contributions of factors in the output growth
k_cont = dk * capsh,
l_cont = dl * {{labsh}},
tfp_cont = dy - k_cont - l_cont
) %>%
na.omit()
}
regions
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, k_cont, l_cont, tfp_cont) %>%
summarise_if(is.numeric, mean) %>%
select(region, k_cont, l_cont, tfp_cont)
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019))
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh)
gtm <- read_csv("guatemala.csv")
gtm %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(country, year, k_cont, l_cont, tfp_cont) %>%
pivot_longer(-c(country, year)) %>%
ggplot(aes(year, value, fill = name)) +
geom_col() +
labs(title = "Contabilidad del crecimiento: Guatemala",
subtitle = "Contribución de los factores productivos (1955 – 2019)",
caption = "Datos: Penn World Table (v 10.0)") +
guides(color = guide_legend(nrow = 1)) +
scale_fill_discrete(name = "Contribución:",
labels = c("Capital", "Trabajo", "PTF")) +
scale_y_continuous(labels = comma, breaks = scales::pretty_breaks(n = 10)) +
scale_x_continuous(breaks = scales::pretty_breaks(n = 15)) +
guides(color = guide_legend(nrow = 1)) +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
plot.title = element_text(
face = "bold",
hjust = .5,
margin = margin(10, 0, 5, 0)
),
plot.subtitle = element_text(hjust = .5,
margin = margin(0, 0, 15, 0)),
plot.caption = element_text(
color = "gray50",
size = 8,
margin = margin(15, 0, 0, 0)
),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "gray95")
)
gtm <- read_csv("guatemala.csv")
gtm
gtm %>%
solow(y = y,
l = l,
k = k,
labsh = labsh)
regions <- read_csv("regions.csv")
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, magrittr, scales, here, sf)
regions <- read_csv("regions.csv")
library(scales)
regions %>%
mutate(pcap = y/pop,
pcap_growth = ((pcap - lag(pcap) ) / pcap) * 100) %>%
filter(year >= 1985) %>%
ggplot(aes(year, pcap_growth,
color = fct_reorder2(region, pcap_growth, desc(id)))) +
geom_line(size = .5) +
labs(title = "Crecimiento económico en el mundo",
subtitle = "Tasas de crecimiento del ingreso per cápita",
caption = "Penn World Table (v 10.0)") +
scale_y_continuous(labels = comma, breaks = scales::pretty_breaks(n = 10)) +
scale_x_continuous(breaks = scales::pretty_breaks(n = 10)) +
guides(color = guide_legend(nrow = 1)) +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
plot.title = element_text(
face = "bold",
hjust = .5,
margin = margin(10, 0, 5, 0)
),
plot.subtitle = element_text(hjust = .5,
margin = margin(0, 0, 15, 0)),
plot.caption = element_text(color = "gray50",
size = 8,
margin = margin(15, 0, 0, 0)),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "gray95")
)
solow <- function(data, y, l, k, labsh) {
data %>%
mutate(
# Logs of output, capital and labor
y = log({{y}}),
k = log({{k}}),
l = log({{l}}),
# First differences (growth rates)
dy = ({{y}} - lag({{y}})) * 100,
dk = ({{k}} - lag({{k}})) * 100,
dl = ({{l}} - lag({{l}})) * 100,
# Share of capital in the economy
capsh = 1 - {{labsh}},
# Contributions of factors in the output growth
k_cont = dk * capsh,
l_cont = dl * {{labsh}},
tfp_cont = dy - k_cont - l_cont
) %>%
na.omit()
}
gtm <- read_csv("guatemala.csv")
gtm %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(country, year, k_cont, l_cont, tfp_cont) %>%
pivot_longer(-c(country, year)) %>%
ggplot(aes(year, value, fill = name)) +
geom_col() +
labs(title = "Contabilidad del crecimiento: Guatemala",
subtitle = "Contribución de los factores productivos (1955 – 2019)",
caption = "Datos: Penn World Table (v 10.0)") +
guides(color = guide_legend(nrow = 1)) +
scale_fill_discrete(name = "Contribución:",
labels = c("Capital", "Trabajo", "PTF")) +
scale_y_continuous(labels = comma, breaks = scales::pretty_breaks(n = 10)) +
scale_x_continuous(breaks = scales::pretty_breaks(n = 15)) +
guides(color = guide_legend(nrow = 1)) +
theme(
axis.title.x = element_blank(),
axis.title.y = element_blank(),
plot.title = element_text(
face = "bold",
hjust = .5,
margin = margin(10, 0, 5, 0)
),
plot.subtitle = element_text(hjust = .5,
margin = margin(0, 0, 15, 0)),
plot.caption = element_text(
color = "gray50",
size = 8,
margin = margin(15, 0, 0, 0)
),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "gray95")
)
poverty <- read_csv("poverty.csv")
regions <- read_csv("regions.csv")
solow <- function(data, y, l, k, labsh) {
data %>%
mutate(
# Logs of output, capital and labor
y = log({{y}}),
k = log({{k}}),
l = log({{l}}),
# First differences (growth rates)
dy = ({{y}} - lag({{y}})) * 100,
dk = ({{k}} - lag({{k}})) * 100,
dl = ({{l}} - lag({{l}})) * 100,
# Share of capital in the economy
capsh = 1 - {{labsh}},
# Contributions of factors in the output growth
k_cont = dk * capsh,
l_cont = dl * {{labsh}},
tfp_cont = dy - k_cont - l_cont
) %>%
na.omit()
}
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, k_cont, l_cont, tfp_cont) %>%
summarise_if(is.numeric, mean) %>%
select(region, k_cont, l_cont, tfp_cont)
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, k_cont, l_cont, tfp_cont)
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, year, k_cont, l_cont, tfp_cont)
poverty
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, year, k_cont, l_cont, tfp_cont) %>%
left_join(poverty)
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, year, k_cont, l_cont, tfp_cont) %>%
left_join(poverty) %>%
mutate(pov = log(pov),
pov = (pov - lag(pov) * 100))
poverty
poverty
poverty %>%
mutate(pov = ((pov - lag(pov)) / lag(pov) * 100))
poverty %>%
mutate(pov = ((pov - lag(pov)) / lag(pov) * 100)) %>%
na.omit()
regions_solow <-
regions %>%
group_by(region) %>%
filter(year %in% c(1984:2019)) %>%
solow(y = y,
l = l,
k = k,
labsh = labsh) %>%
select(region, year, k_cont, l_cont, tfp_cont)
poverty_rateofchange <-
poverty %>%
mutate(pov = ((pov - lag(pov)) / lag(pov) * 100)) %>%
na.omit()
regions_solow %>%
left_join(poverty_rateofchange, by = id)
regions_solow %>%
left_join(poverty_rateofchange, by = "id")
regions_solow %>%
left_join(poverty_rateofchange)
regions_solow %>%
left_join(poverty_rateofchange) %>%
select(id, region:tfp_cont, pov)
regions_solow %>%
left_join(poverty_rateofchange) %>%
select(id, region:tfp_cont, pov) %>%
ungroup()
# Join dataframes
join <-
regions_solow %>%
left_join(poverty_rateofchange) %>%
select(id, region:tfp_cont, pov) %>%
ungroup()
join
join
join %>% View
join %>% print(n = Inf)
join
# Join dataframes
join <-
regions_solow %>%
left_join(poverty_rateofchange) %>%
select(region:tfp_cont, pov) %>%
ungroup()
# convert the data frame to a data format recognizable by `plm`
panel  <-  pdata.frame(join, index = c("region", "year"))
?panelr
??panelr
library(panelr)
join
# convert the data frame to a data format recognizable by `plm`
panel  <-  panel_data(join, id = region, wave = year)
panel
# Model specification and estimation
model <- plm(pov ~ k_cont + l_cont + tfp_cont, data = pdf, model = "pooling")
library(plm)
# Model specification and estimation
model <- plm(pov ~ k_cont + l_cont + tfp_cont, data = pdf, model = "pooling")
# Model specification and estimation
model <- plm(pov ~ k_cont + l_cont + tfp_cont, data = pdf,
model = "pooling",
data = panel)
panel
# Model specification and estimation
model <- plm(pov ~ k_cont + l_cont + tfp_cont, data = pdf,
data = panel,
model = "pooling")
?plm
# Model specification and estimation
model <- plm(pov ~ k_cont + l_cont + tfp_cont,
data = panel,
model = "pooling")
summary(model)
# Model 2: Random effects
random <- plm(pov ~ k_cont + l_cont + tfp_cont,
data = panel,
model = "random")
summary(random)
# Model 3: Fixed effects
fixed <- plm(pov ~ k_cont + l_cont + tfp_cont,
data = panel,
model = "fixed")
summary(fixed)
# Model 3: Fixed effects
fixed <- plm(pov ~ k_cont + l_cont + tfp_cont,
data = panel,
model = "fd")
summary(fixed)
# Model 1: Pooled OLS
pooled <- plm(pov ~ k_cont + l_cont + tfp_cont + factor(region),
data = panel,
model = "pooling")
summary(pooled)
# Model 1: Pooled OLS
pooled <- plm(pov ~ k_cont + l_cont + tfp_cont + factor(region) + factor(year),
data = panel,
model = "pooling")
summary(pooled)
# Model 1: Pooled OLS
pooled <- plm(pov ~ k_cont + l_cont + tfp_cont + factor(region),
data = panel,
model = "pooling")
summary(pooled)
# Model 1: Pooled OLS
pooled <- plm(pov ~ k_cont + l_cont + tfp_cont,
data = panel,
model = "pooling")
summary(pooled)
install.packages("gtsummary")
summary(pooled) %>% tbl_regression()
tbl_regression(pooled)
library(gtsummary)
tbl_regression(pooled)
?tab_model
??tab_model
install.packages("sjPlot")
library(sjPlot)
tab_model(pooled)
pooled %>% tidy()
summary(pooled) %>% tidy()
library(tidy)
library(broom)
summary(pooled) %>% tidy()
pooled %>% tidy()
pooled %>% tidy() %>% kable()
library(kableExtra)
pooled %>% tidy() %>% kable()
library(kable)
pooled %>% tidy()  %>% kable_material()
library(kableExtra)
pooled %>% tidy()  %>% kable()
library(stargazer)
stargazer(pooled, type = "html")
stargazer
?stargazer
stargazer(pooled, type = "latex")
stargazer(pooled, type = "plot")
stargazer(pooled, type = "text")
pooled %>% tidy()
stargazer(pooled, type = "text")
pooled %>% summary
